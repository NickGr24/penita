{% extends 'base.html' %}
{% load static %}

{% block title %}{{ news.title }} | Știri | Penița Dreptului{% endblock %}

{% block meta_description %}{{ news.content|truncatewords:25 }}{% endblock %}

{% block canonical %}https://penitadreptului.md/news/{{ news.slug }}/{% endblock %}
{% block og_url %}https://penitadreptului.md/news/{{ news.slug }}/{% endblock %}
{% block og_type %}article{% endblock %}
{% block og_title %}{{ news.title }}{% endblock %}
{% block og_description %}{{ news.content|truncatewords:25 }}{% endblock %}
{% if news.image %}
{% block og_image %}https://penitadreptului.md{{ news.image.url }}{% endblock %}
{% block twitter_image %}https://penitadreptului.md{{ news.image.url }}{% endblock %}
{% endif %}

{% block twitter_title %}{{ news.title }}{% endblock %}
{% block twitter_description %}{{ news.content|truncatewords:25 }}{% endblock %}

{% block structured_data %}
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "NewsArticle",
    "headline": "{{ news.title|escapejs }}",
    "description": "{{ news.content|truncatewords:25|escapejs }}",
    {% if news.image %}"image": "https://penitadreptului.md{{ news.image.url }}",{% endif %}
    "publisher": {
        "@type": "Organization",
        "name": "Penița Dreptului",
        "logo": {
            "@type": "ImageObject",
            "url": "https://penitadreptului.md/static/img/favicon.webp"
        }
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://penitadreptului.md/news/{{ news.slug }}/"
    },
    "inLanguage": "ro-RO"
}
</script>
{% endblock %}

{% block css_link %}
    <link rel="stylesheet" href="{% static 'css/news_detail.css' %}">
    <link rel="stylesheet" href="{% static 'css/navbar.css' %}">
{% endblock css_link %}
    

{% block content %}
{% include 'navbar.html' %}
<section class="news-detail">
    <div class="news-header">
        <h1>{{ news.title }}</h1>
    </div>

    {% if news.image %}
    <div class="news-image">
        <img src="{{ news.image.url }}" alt="{{ news.title }}">
    </div>
    {% endif %}

    <div class="news-content">
        <p>{{ news.content }}</p>
    </div>

    {% for image in news.images.all %}
    <div class="news-image">
        <img src="{{ image.image.url }}" alt="{{ news.title }} - изображение {{ forloop.counter }}">
    </div>
    {% endfor %}
</section>
{% endblock %}
